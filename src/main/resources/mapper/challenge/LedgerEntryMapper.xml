<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.woorido.challenge.repository.LedgerEntryMapper">

    <insert id="save" parameterType="com.woorido.challenge.domain.LedgerEntry">
        INSERT INTO woorido.ledger_entries (
            id, challenge_id, type, amount, balance_before, balance_after,
            related_user_id, description, created_at
        ) VALUES (
            #{id}, #{challengeId}, #{type}, #{amount}, #{balanceBefore}, #{balanceAfter},
            #{relatedUserId}, #{description}, SYSTIMESTAMP
        )
    </insert>

</mapper>
